---
interface Props {
  className?: string;
}
import Particles from "@components/Particles.astro";
import landing from "@data/landing.json";

const {className=''} = Astro.props
---

<section id="home" class={`relative flex items-center h-full ${className}`}>
  <Particles />
  <div class="relative container w-full mx-auto flex flex-col justify-center">
    <svg
      class="blob"
      viewBox="0 0 1000 1000"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <filter
          id="blob-grain"
          x="-50vw"
          y="-50vh"
          width="100vw"
          height="100vh"
        >
          <feFlood flood-color="#ffffff" result="neutral-gray"></feFlood>
          <feTurbulence
            in="neutral-gray"
            type="fractalNoise"
            baseFrequency="2.5"
            numOctaves="100"
            stitchTiles="stitch"
            result="noise"></feTurbulence>
          <feColorMatrix
            in="noise"
            type="saturate"
            values="0"
            result="destaturatedNoise"></feColorMatrix>
          <feComponentTransfer in="desaturatedNoise" result="theNoise">
            <feFuncA type="table" tableValues="0 0 0.5 0"></feFuncA>
          </feComponentTransfer>
          <feBlend
            in="SourceGraphic"
            in2="theNoise"
            mode="soft-light"
            result="noisy-image"></feBlend>
        </filter>
        <pattern
          id="blob-pattern"
          patternUnits="userSpaceOnUse"
          width="25"
          height="25"
          viewBox="0 0 100 100"
          fill="#D7E2E2"
        >
          <circle cx="50" cy="50" r="12.5"></circle>
        </pattern>
        <clipPath id="blob-shape">
          <path
            fill="currentColor"
            d="M941.5,645Q900,790,757.5,821.5Q615,853,495,868.5Q375,884,276,809.5Q177,735,91.5,617.5Q6,500,53.5,355Q101,210,245,184.5Q389,159,521.5,92Q654,25,731.5,150.5Q809,276,896,388Q983,500,941.5,645Z"
          ></path>
        </clipPath>
      </defs>
      <g filter="url(#blob-grain)" clip-path="url(#blob-shape)">
        <path
          fill="url(#blob-pattern)"
          d="M941.5,645Q900,790,757.5,821.5Q615,853,495,868.5Q375,884,276,809.5Q177,735,91.5,617.5Q6,500,53.5,355Q101,210,245,184.5Q389,159,521.5,92Q654,25,731.5,150.5Q809,276,896,388Q983,500,941.5,645Z"
        ></path>
      </g>
    </svg>
    <h2 class="opacity-0 text-slate-800">Hello.</h2>
    <div class="p-fade space-y-2">
      {landing.map((text) => <p class="opacity-0 text-slate-600">{text}</p>)}
    </div>
  </div>
</section>
<style>
  .blob {
    z-index: -1;
    position: absolute;
    left: -10%;
    width: clamp(320px, 50vw, 1440px);
    height: clamp(320px, 50vw, 1440px);
  }
</style>
<script>
  const blob1 = document.querySelector(".blob") as HTMLDivElement;
  function shiftObjects() {
    blob1.style.transform = `translateY(-${scrollY / 4}px)`;
  }
  window.addEventListener("scroll", shiftObjects);
</script>
